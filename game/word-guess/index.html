<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Quest | Enhanced Word Guessing Game</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: #fff;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 25px;
        }

        .game-card, .stats-card {
            background: rgba(255, 255, 255, 0.12);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 35px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.15);
            overflow: hidden;
            position: relative;
            z-index: 2;
            height: fit-content;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.8rem;
            font-weight: 800;
            margin-bottom: 10px;
            text-shadow: 0 3px 6px rgba(0, 0, 0, 0.4);
            background: linear-gradient(45deg, #ffd700, #ffa500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: 1px;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.85;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .word-display {
            background: rgba(0, 0, 0, 0.25);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
            min-height: 140px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .letter {
            width: 55px;
            height: 75px;
            font-size: 2.5rem;
            font-weight: 800;
            display: flex;
            justify-content: center;
            align-items: center;
            border-bottom: 5px solid #ffd700;
            margin: 0 5px;
            text-transform: uppercase;
            color: #fff;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .letter.revealed {
            color: #ffd700;
            transform: translateY(-5px);
        }

        .hint-box {
            background: rgba(0, 0, 0, 0.25);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
            text-align: center;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .hint-box h3 {
            margin-bottom: 15px;
            color: #ffd700;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .hint-text {
            font-size: 1.4rem;
            font-weight: 500;
            line-height: 1.6;
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(45deg, #ff8c00, #ffd700);
            color: #1a2a6c;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            flex: 1;
            min-width: 160px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .btn:active {
            transform: translateY(2px);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .keyboard {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .key {
            width: 55px;
            height: 55px;
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.6rem;
            font-weight: 700;
            background: rgba(255, 255, 255, 0.15);
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid rgba(255, 255, 255, 0.2);
            text-transform: uppercase;
            color: #fff;
        }

        .key:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-3px);
        }

        .key.correct {
            background: linear-gradient(45deg, #00c853, #64dd17);
            color: white;
            transform: scale(0.95);
        }

        .key.incorrect {
            background: linear-gradient(45deg, #ff1744, #d50000);
            color: white;
            transform: scale(0.95);
        }

        .key.disabled {
            opacity: 0.5;
            pointer-events: none;
        }

        .game-info {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            font-size: 1.3rem;
            background: rgba(0, 0, 0, 0.25);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
            margin-bottom: 35px;
        }

        .stat-box {
            background: rgba(0, 0, 0, 0.25);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .stat-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .stat-value {
            font-size: 3.5rem;
            font-weight: 800;
            margin: 15px 0;
            color: #ffd700;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
        }

        .stat-label {
            font-size: 1.3rem;
            opacity: 0.9;
        }

        .achievements {
            background: rgba(0, 0, 0, 0.25);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .achievements h2 {
            text-align: center;
            margin-bottom: 25px;
            color: #ffd700;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .achievement-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .achievement {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 12px;
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }

        .achievement.unlocked {
            background: rgba(26, 42, 108, 0.5);
            border-left: 4px solid #ffd700;
            transform: scale(1.02);
        }

        .achievement-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #ff8c00, #ffd700);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: 20px;
            font-size: 1.8rem;
            color: #1a2a6c;
        }

        .achievement-details h3 {
            margin-bottom: 8px;
            font-size: 1.3rem;
            color: #ffd700;
        }

        .achievement-details p {
            font-size: 1.05rem;
            opacity: 0.85;
            line-height: 1.5;
        }

        .message-box {
            position: fixed;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 18px 40px;
            border-radius: 50px;
            font-size: 1.3rem;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 215, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }

        .message-box.show {
            opacity: 1;
        }

        .win-message {
            border-color: rgba(0, 200, 83, 0.5);
        }

        .lose-message {
            border-color: rgba(255, 23, 68, 0.5);
        }

        .info-message {
            border-color: rgba(33, 150, 243, 0.5);
        }

        .decoration {
            position: absolute;
            z-index: 1;
            opacity: 0.08;
            pointer-events: none;
        }

        .decoration.circle {
            width: 400px;
            height: 400px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ffd700, #ff8c00);
            top: -150px;
            right: -150px;
        }

        .decoration.square {
            width: 300px;
            height: 300px;
            background: linear-gradient(45deg, #1a2a6c, #b21f1f);
            bottom: -120px;
            left: -120px;
            transform: rotate(45deg);
        }

        .progress-container {
            margin-top: 20px;
        }

        .progress-label {
            text-align: center;
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #ffd700;
        }

        .progress-bar {
            height: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin-top: 10px;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #ff8c00, #ffd700);
            border-radius: 10px;
            width: 0%;
            transition: width 0.8s ease;
            box-shadow: 0 0 15px rgba(255, 140, 0, 0.5);
        }

        .difficulty-selector {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 25px;
        }

        .difficulty-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border: 2px solid transparent;
        }

        .difficulty-btn.active {
            background: rgba(255, 215, 0, 0.2);
            border-color: #ffd700;
            color: #ffd700;
            transform: scale(1.05);
        }

        .timer-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            font-size: 1.2rem;
            color: #ffd700;
        }

        @media (max-width: 992px) {
            .container {
                grid-template-columns: 1fr;
                max-width: 700px;
            }
            
            .header h1 {
                font-size: 2.4rem;
            }
            
            .letter {
                width: 40px;
                height: 60px;
                font-size: 2rem;
            }
            
            .key {
                width: 45px;
                height: 45px;
                font-size: 1.4rem;
            }
            
            .stat-value {
                font-size: 2.8rem;
            }
        }

        @media (max-width: 576px) {
            .game-card, .stats-card {
                padding: 25px 15px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
            
            .key {
                width: 35px;
                height: 35px;
                font-size: 1.2rem;
            }
            
            .letter {
                width: 30px;
                height: 50px;
                font-size: 1.8rem;
            }
            
            .stat-box {
                padding: 15px;
            }
            
            .stat-value {
                font-size: 2.2rem;
            }
        }

        .streak-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            font-size: 1.2rem;
            color: #ffd700;
        }

        .streak-fire {
            color: #ff5722;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #ffd700;
            border-radius: 50%;
            opacity: 0;
            z-index: 10;
        }
    </style>
</head>
<body>
    <!-- Decoration elements -->
    <div class="decoration circle"></div>
    <div class="decoration square"></div>
    
    <!-- Message box -->
    <div class="message-box" id="messageBox">
        <i class="fas fa-info-circle"></i>
        <span>Welcome to Word Quest!</span>
    </div>
    
    <div class="container">
        <div class="stats-card">
            <div class="header">
                <h1><i class="fas fa-chart-line"></i> GAME STATS</h1>
                <p>Track your progress and unlock achievements</p>
            </div>
            
            <div class="stats-container">
                <div class="stat-box">
                    <div class="stat-label">Total Wins</div>
                    <div class="stat-value" id="wins">0</div>
                </div>
                
                <div class="stat-box">
                    <div class="stat-label">Total Losses</div>
                    <div class="stat-value" id="losses">0</div>
                </div>
                
                <div class="stat-box">
                    <div class="stat-label">Player Level</div>
                    <div class="stat-value" id="level">1</div>
                </div>
                
                <div class="stat-box">
                    <div class="stat-label">Total Points</div>
                    <div class="stat-value" id="points">0</div>
                </div>
            </div>
            
            <div class="streak-container">
                <i class="fas fa-fire streak-fire"></i>
                <span>Current Win Streak: <span id="streak">0</span></span>
            </div>
            
            <div class="progress-container">
                <div class="progress-label">
                    Progress to Next Level
                </div>
                <div class="progress-bar">
                    <div class="progress" id="levelProgress"></div>
                </div>
            </div>
            
            <div class="achievements">
                <h2><i class="fas fa-trophy"></i> ACHIEVEMENTS</h2>
                <div class="achievement-list">
                    <div class="achievement" id="achievement1">
                        <div class="achievement-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="achievement-details">
                            <h3>Word Novice</h3>
                            <p>Win 5 games</p>
                        </div>
                    </div>
                    
                    <div class="achievement" id="achievement2">
                        <div class="achievement-icon">
                            <i class="fas fa-crown"></i>
                        </div>
                        <div class="achievement-details">
                            <h3>Word Master</h3>
                            <p>Win 15 games</p>
                        </div>
                    </div>
                    
                    <div class="achievement" id="achievement3">
                        <div class="achievement-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div class="achievement-details">
                            <h3>Quick Thinker</h3>
                            <p>Win 3 consecutive games without mistakes</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="game-card">
            <div class="header">
                <h1><i class="fas fa-keyboard"></i> WORD QUEST</h1>
                <p>Guess the hidden word by selecting letters. Each incorrect guess reduces your chances!</p>
            </div>
            
            <div class="difficulty-selector">
                <button class="difficulty-btn active" data-difficulty="easy">Easy</button>
                <button class="difficulty-btn" data-difficulty="medium">Medium</button>
                <button class="difficulty-btn" data-difficulty="hard">Hard</button>
            </div>
            
            <div class="word-display" id="wordDisplay">
                <!-- Word letters will appear here -->
            </div>
            
            <div class="hint-box">
                <h3><i class="fas fa-lightbulb"></i> HINT</h3>
                <div class="hint-text" id="hintText">Hint will appear when game starts</div>
            </div>
            
            <div class="controls">
                <button class="btn" id="startBtn">
                    <i class="fas fa-play"></i> START GAME
                </button>
                <button class="btn" id="hintBtn">
                    <i class="fas fa-question-circle"></i> HINT (<span id="hintCount">2</span>)
                </button>
                <button class="btn" id="resetBtn">
                    <i class="fas fa-sync-alt"></i> RESET
                </button>
            </div>
            
            <div class="keyboard" id="keyboard">
                <!-- Keyboard will be generated by JavaScript -->
            </div>
            
            <div class="game-info">
                <div class="chances">
                    <i class="fas fa-heart"></i> 
                    <span>Chances Left: <span id="chances">6</span></span>
                </div>
                <div class="score">
                    <i class="fas fa-coins"></i> 
                    <span>Score: <span id="score">0</span></span>
                </div>
            </div>
            
            <div class="timer-container">
                <i class="fas fa-clock"></i>
                <span>Time: <span id="timer">60</span>s</span>
            </div>
        </div>
    </div>

    <script>
        // Enhanced word database
         // Enhanced word database with 15 easy, 15 medium, and 15 hard words
        const wordDatabase = {
            easy: [
                { word: "APPLE", hint: "A popular fruit that keeps doctors away" },
                { word: "HOUSE", hint: "A building where people live" },
                { word: "WATER", hint: "Essential liquid for life" },
                { word: "SMILE", hint: "Facial expression showing happiness" },
                { word: "MUSIC", hint: "Art form of organized sound" },
                { word: "BEACH", hint: "Sandy shore by the ocean" },
                { word: "CLOUD", hint: "Floating mass of water vapor" },
                { word: "BOOK", hint: "Collection of written or printed pages" },
                { word: "CLOCK", hint: "Device that shows time" },
                { word: "EARTH", hint: "Planet we live on" },
                { word: "FLOWER", hint: "Colorful part of a plant" },
                { word: "GARDEN", hint: "Place where plants are grown" },
                { word: "HEART", hint: "Organ that pumps blood" },
                { word: "ISLAND", hint: "Land surrounded by water" },
                { word: "JUNGLE", hint: "Dense forest in tropical areas" }
            ],
            medium: [
                { word: "JOURNEY", hint: "An act of traveling from one place to another" },
                { word: "LIBRARY", hint: "Place where books and media are kept" },
                { word: "HARMONY", hint: "Agreement or concord" },
                { word: "MYSTERY", hint: "Something difficult to understand or explain" },
                { word: "VICTORY", hint: "An act of defeating an opponent" },
                { word: "WEATHER", hint: "State of the atmosphere at a place and time" },
                { word: "BALLOON", hint: "Inflatable flexible bag filled with gas" },
                { word: "CABINET", hint: "Piece of furniture with shelves or drawers" },
                { word: "DOLPHIN", hint: "Intelligent marine mammal" },
                { word: "ECLIPSE", hint: "Celestial event where one body obscures another" },
                { word: "FACTORY", hint: "Building where goods are manufactured" },
                { word: "GALLERY", hint: "Room or building for showing art" },
                { word: "HORIZON", hint: "Line where earth meets sky" },
                { word: "INVADER", hint: "One who enters by force" },
                { word: "JELLYFISH", hint: "Gelatinous sea creature with tentacles" }
            ],
            hard: [
                { word: "KALEIDOSCOPE", hint: "Optical instrument with changing symmetrical patterns" },
                { word: "QUINTESSENCE", hint: "The most perfect or typical example of a quality" },
                { word: "PERSPICACIOUS", hint: "Having a ready insight into things" },
                { word: "SERENDIPITY", hint: "Finding something good without looking for it" },
                { word: "EUPHORIA", hint: "A feeling of intense excitement and happiness" },
                { word: "PARADIGM", hint: "A typical example or pattern of something" },
                { word: "METAMORPHOSIS", hint: "Process of transformation from immature to adult form" },
                { word: "IDIOSYNCRASY", hint: "A mode of behavior or way of thought peculiar to an individual" },
                { word: "JUXTAPOSITION", hint: "Placing things side by side for contrasting effect" },
                { word: "XENOPHOBIA", hint: "Dislike of or prejudice against people from other countries" },
                { word: "NEUROPLASTICITY", hint: "Brain's ability to reorganize itself by forming new neural connections" },
                { word: "OXYMORON", hint: "Figure of speech with contradictory terms" },
                { word: "PSEUDONYM", hint: "Fictitious name used by an author" },
                { word: "SYNECDOCHE", hint: "Figure of speech where a part represents the whole" },
                { word: "ZEITGEIST", hint: "Defining spirit or mood of a particular period of history" }
            ]
        };

        // DOM Elements
        const wordDisplay = document.getElementById('wordDisplay');
        const hintText = document.getElementById('hintText');
        const startBtn = document.getElementById('startBtn');
        const hintBtn = document.getElementById('hintBtn');
        const resetBtn = document.getElementById('resetBtn');
        const keyboard = document.getElementById('keyboard');
        const chancesDisplay = document.getElementById('chances');
        const scoreDisplay = document.getElementById('score');
        const winsDisplay = document.getElementById('wins');
        const lossesDisplay = document.getElementById('losses');
        const levelDisplay = document.getElementById('level');
        const pointsDisplay = document.getElementById('points');
        const levelProgress = document.getElementById('levelProgress');
        const messageBox = document.getElementById('messageBox');
        const hintCountDisplay = document.getElementById('hintCount');
        const streakDisplay = document.getElementById('streak');
        const timerDisplay = document.getElementById('timer');
        const difficultyButtons = document.querySelectorAll('.difficulty-btn');

        // Game variables
        let currentWord = '';
        let currentHint = '';
        let guessedLetters = [];
        let wrongGuesses = 0;
        let maxGuesses = 6;
        let score = 0;
        let wins = 0;
        let losses = 0;
        let level = 1;
        let points = 0;
        let winStreak = 0;
        let consecutiveWins = 0;
        let hintCount = 2;
        let gameActive = false;
        let timer = 60;
        let timerInterval;
        let currentDifficulty = 'easy';
        
        // Initialize the game
        function initGame() {
            createKeyboard();
            loadStats();
            showMessage('Welcome to Word Quest! Press START to begin', 'info-message');
            setDifficulty('easy');
            resetTimer();
        }
        
        // Set difficulty level
        function setDifficulty(difficulty) {
            currentDifficulty = difficulty;
            
            // Update difficulty buttons
            difficultyButtons.forEach(btn => {
                if (btn.dataset.difficulty === difficulty) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
            
            // Adjust game parameters based on difficulty
            switch(difficulty) {
                case 'easy':
                    maxGuesses = 6;
                    timer = 60;
                    break;
                case 'medium':
                    maxGuesses = 5;
                    timer = 45;
                    break;
                case 'hard':
                    maxGuesses = 4;
                    timer = 30;
                    break;
            }
            
            if (gameActive) {
                resetGame();
                startNewGame();
            }
        }
        
        // Create keyboard
        function createKeyboard() {
            keyboard.innerHTML = '';
            const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            
            for (let letter of letters) {
                const key = document.createElement('div');
                key.classList.add('key');
                key.textContent = letter;
                key.dataset.letter = letter;
                
                key.addEventListener('click', () => {
                    if (gameActive) {
                        handleLetterClick(letter);
                    }
                });
                
                keyboard.appendChild(key);
            }
        }
        
        // Start new game
        function startNewGame() {
            // Select a random word based on difficulty
            const words = wordDatabase[currentDifficulty];
            const randomIndex = Math.floor(Math.random() * words.length);
            currentWord = words[randomIndex].word;
            currentHint = words[randomIndex].hint;
            
            guessedLetters = [];
            wrongGuesses = 0;
            hintCount = 2;
            gameActive = true;
            
            // Update UI
            hintText.textContent = currentHint;
            chancesDisplay.textContent = maxGuesses;
            hintCountDisplay.textContent = hintCount;
            updateWordDisplay();
            resetKeyboard();
            hintBtn.disabled = false;
            
            // Start timer
            resetTimer();
            startTimer();
            
            // Show message
            showMessage('Game started! Guess the word', 'info-message');
        }
        
        // Update word display
        function updateWordDisplay() {
            wordDisplay.innerHTML = '';
            
            for (let letter of currentWord) {
                const letterElement = document.createElement('div');
                letterElement.classList.add('letter');
                
                if (guessedLetters.includes(letter) || letter === ' ') {
                    letterElement.textContent = letter;
                    letterElement.classList.add('revealed');
                } else {
                    letterElement.textContent = '_';
                }
                
                wordDisplay.appendChild(letterElement);
            }
            
            // Check for win
            checkWin();
        }
        
        // Handle letter click
        function handleLetterClick(letter) {
            if (!gameActive || guessedLetters.includes(letter)) return;
            
            guessedLetters.push(letter);
            
            const keyElement = document.querySelector(`.key[data-letter="${letter}"]`);
            keyElement.classList.add('disabled');
            
            if (currentWord.includes(letter)) {
                keyElement.classList.add('correct');
                playSound('correct');
                showMessage(`Good guess! "${letter}" is in the word`, 'info-message');
            } else {
                keyElement.classList.add('incorrect');
                wrongGuesses++;
                chancesDisplay.textContent = maxGuesses - wrongGuesses;
                playSound('wrong');
                showMessage(`"${letter}" is not in the word`, 'info-message');
                
                // Check for loss
                if (wrongGuesses >= maxGuesses) {
                    endGame(false);
                }
            }
            
            updateWordDisplay();
        }
        
        // Check for win
        function checkWin() {
            const wordGuessed = currentWord.split('').every(letter => 
                guessedLetters.includes(letter) || letter === ' ');
            
            if (wordGuessed) {
                endGame(true);
            }
        }
        
        // End game
        function endGame(isWin) {
            gameActive = false;
            clearInterval(timerInterval);
            
            if (isWin) {
                wins++;
                winStreak++;
                consecutiveWins++;
                score += 150;
                points += 15;
                
                // Bonus points for remaining chances and time
                const chanceBonus = (maxGuesses - wrongGuesses) * 25;
                const timeBonus = Math.floor(timer) * 2;
                score += chanceBonus + timeBonus;
                points += Math.floor((chanceBonus + timeBonus) / 10);
                
                showMessage(`You won! +${150 + chanceBonus + timeBonus} points!`, 'win-message');
                playSound('win');
                createConfetti();
                
                // Check achievements
                checkAchievements();
            } else {
                losses++;
                winStreak = 0;
                showMessage(`Game over! The word was: ${currentWord}`, 'lose-message');
                playSound('lose');
            }
            
            // Update stats
            updateStats();
            
            // Check for level up
            checkLevelUp();
            
            // Disable keyboard
            disableAllKeys();
        }
        
        // Use hint
        function useHint() {
            if (hintCount <= 0 || !gameActive) return;
            
            hintCount--;
            hintCountDisplay.textContent = hintCount;
            
            // Find an unguessed letter
            const unguessedLetters = currentWord.split('').filter(letter => 
                !guessedLetters.includes(letter) && letter !== ' ');
            
            if (unguessedLetters.length > 0) {
                const randomLetter = unguessedLetters[Math.floor(Math.random() * unguessedLetters.length)];
                handleLetterClick(randomLetter);
                showMessage(`Hint revealed: "${randomLetter}"`, 'info-message');
            }
            
            if (hintCount <= 0) {
                hintBtn.disabled = true;
            }
            
            playSound('hint');
        }
        
        // Reset game
        function resetGame() {
            wins = 0;
            losses = 0;
            winStreak = 0;
            level = 1;
            points = 0;
            consecutiveWins = 0;
            score = 0;
            updateStats();
            saveStats();
            resetAchievements();
            
            if (gameActive) {
                gameActive = false;
                disableAllKeys();
                clearInterval(timerInterval);
            }
            
            showMessage('Game has been reset!', 'info-message');
            playSound('reset');
        }
        
        // Update stats
        function updateStats() {
            winsDisplay.textContent = wins;
            lossesDisplay.textContent = losses;
            levelDisplay.textContent = level;
            pointsDisplay.textContent = points;
            scoreDisplay.textContent = score;
            streakDisplay.textContent = winStreak;
            
            // Update progress bar
            const progress = (points % 100);
            levelProgress.style.width = `${progress}%`;
            
            saveStats();
        }
        
        // Check for level up
        function checkLevelUp() {
            if (points >= level * 100) {
                level++;
                showMessage(`Level up! You reached level ${level}`, 'win-message');
                playSound('level');
                
                // Level up rewards
                score += 300;
                points += 30;
                
                updateStats();
            }
        }
        
        // Check achievements
        function checkAchievements() {
            // Achievement 1: Win 5 games
            if (wins >= 5) {
                document.getElementById('achievement1').classList.add('unlocked');
            }
            
            // Achievement 2: Win 15 games
            if (wins >= 15) {
                document.getElementById('achievement2').classList.add('unlocked');
            }
            
            // Achievement 3: Win 3 consecutive games without mistakes
            if (consecutiveWins >= 3) {
                document.getElementById('achievement3').classList.add('unlocked');
                
                // Bonus reward
                score += 500;
                points += 50;
                updateStats();
            }
        }
        
        // Reset achievements
        function resetAchievements() {
            document.getElementById('achievement1').classList.remove('unlocked');
            document.getElementById('achievement2').classList.remove('unlocked');
            document.getElementById('achievement3').classList.remove('unlocked');
        }
        
        // Reset keyboard
        function resetKeyboard() {
            const keys = document.querySelectorAll('.key');
            keys.forEach(key => {
                key.classList.remove('correct', 'incorrect', 'disabled');
            });
        }
        
        // Disable all keys
        function disableAllKeys() {
            const keys = document.querySelectorAll('.key');
            keys.forEach(key => {
                key.classList.add('disabled');
            });
        }
        
        // Show message
        function showMessage(message, className) {
            const icon = className === 'win-message' ? 'fa-check-circle' : 
                        className === 'lose-message' ? 'fa-times-circle' : 'fa-info-circle';
            
            messageBox.innerHTML = `<i class="fas ${icon}"></i> <span>${message}</span>`;
            messageBox.className = `message-box ${className} show`;
            
            setTimeout(() => {
                messageBox.classList.remove('show');
            }, 3000);
        }
        
        // Play sound
        function playSound(type) {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                switch(type) {
                    case 'correct':
                        oscillator.type = 'sine';
                        oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime);
                        break;
                    case 'wrong':
                        oscillator.type = 'sine';
                        oscillator.frequency.setValueAtTime(349.23, audioContext.currentTime);
                        break;
                    case 'win':
                        oscillator.type = 'sine';
                        oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime);
                        oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.1);
                        oscillator.frequency.setValueAtTime(1046.50, audioContext.currentTime + 0.2);
                        break;
                    case 'lose':
                        oscillator.type = 'sine';
                        oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime);
                        oscillator.frequency.setValueAtTime(392.00, audioContext.currentTime + 0.1);
                        oscillator.frequency.setValueAtTime(329.63, audioContext.currentTime + 0.2);
                        break;
                    case 'hint':
                        oscillator.type = 'triangle';
                        oscillator.frequency.setValueAtTime(440, audioContext.currentTime);
                        break;
                    case 'reset':
                        oscillator.type = 'sawtooth';
                        oscillator.frequency.setValueAtTime(261.63, audioContext.currentTime);
                        oscillator.frequency.setValueAtTime(329.63, audioContext.currentTime + 0.1);
                        oscillator.frequency.setValueAtTime(392.00, audioContext.currentTime + 0.2);
                        break;
                    case 'level':
                        oscillator.type = 'square';
                        oscillator.frequency.setValueAtTime(784, audioContext.currentTime);
                        oscillator.frequency.setValueAtTime(1046.5, audioContext.currentTime + 0.1);
                        oscillator.frequency.setValueAtTime(1318.5, audioContext.currentTime + 0.2);
                        break;
                }
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                oscillator.start();
                setTimeout(() => oscillator.stop(), 300);
            } catch (e) {
                console.log('Web Audio API not supported:', e);
            }
        }
        
        // Save stats
        function saveStats() {
            const stats = {
                wins,
                losses,
                level,
                points,
                score,
                winStreak,
                consecutiveWins
            };
            localStorage.setItem('wordGameStats', JSON.stringify(stats));
        }
        
        // Load stats
        function loadStats() {
            const savedStats = localStorage.getItem('wordGameStats');
            if (savedStats) {
                const stats = JSON.parse(savedStats);
                wins = stats.wins || 0;
                losses = stats.losses || 0;
                level = stats.level || 1;
                points = stats.points || 0;
                score = stats.score || 0;
                winStreak = stats.winStreak || 0;
                consecutiveWins = stats.consecutiveWins || 0;
                updateStats();
            }
        }
        
        // Timer functions
        function startTimer() {
            timerDisplay.textContent = timer;
            timerInterval = setInterval(() => {
                timer--;
                timerDisplay.textContent = timer;
                
                if (timer <= 0) {
                    clearInterval(timerInterval);
                    if (gameActive) {
                        endGame(false);
                    }
                }
            }, 1000);
        }
        
        function resetTimer() {
            clearInterval(timerInterval);
            timer = currentDifficulty === 'easy' ? 60 : 
                   currentDifficulty === 'medium' ? 45 : 30;
            timerDisplay.textContent = timer;
        }
        
        // Confetti effect
        function createConfetti() {
            const container = document.querySelector('.game-card');
            const colors = ['#ffd700', '#ff8c00', '#ff5722', '#1a2a6c', '#b21f1f'];
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = '-10px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.opacity = Math.random() * 0.8 + 0.2;
                confetti.style.width = Math.random() * 10 + 5 + 'px';
                confetti.style.height = confetti.style.width;
                confetti.style.animation = `confetti-fall ${Math.random() * 3 + 2}s linear forwards`;
                
                document.body.appendChild(confetti);
                
                setTimeout(() => {
                    confetti.remove();
                }, 5000);
            }
            
            // Add confetti animation to CSS
            const style = document.createElement('style');
            style.innerHTML = `
                @keyframes confetti-fall {
                    0% { transform: translateY(0) rotate(0deg); opacity: 1; }
                    100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
        }
        
        // Event listeners
        startBtn.addEventListener('click', () => {
            if (!gameActive) {
                startNewGame();
            }
        });
        
        hintBtn.addEventListener('click', useHint);
        resetBtn.addEventListener('click', resetGame);
        
        difficultyButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                setDifficulty(btn.dataset.difficulty);
            });
        });
        
        // Keyboard support
        document.addEventListener('keydown', (e) => {
            if (!gameActive) return;
            
            const key = e.key.toUpperCase();
            if (/^[A-Z]$/.test(key)) {
                handleLetterClick(key);
            }
        });
        
        // Initialize on load
        window.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>